mig_controller_version: training-v1
mig_namespace: mig
mig_config_repo: https://raw.githubusercontent.com/fusor/mig-controller/{{ mig_controller_version }}/config

# CRDs 
mig_crd_cluster: "{{ mig_config_repo }}/crds/migration_v1alpha1_migcluster.yaml"
mig_crd_migration: "{{ mig_config_repo }}/crds/migration_v1alpha1_migmigration.yaml"
mig_crd_plan: "{{ mig_config_repo }}/crds/migration_v1alpha1_migplan.yaml"
mig_crd_storage: "{{ mig_config_repo }}/crds/migration_v1alpha1_migstorage.yaml"
mig_crd_registry: https://raw.githubusercontent.com/kubernetes/cluster-registry/master/cluster-registry-crd.yaml
# controller deployment
mig_controller_release: "{{ mig_config_repo }}/releases/latest/manifest.yaml"


############################# CRs ###############################################################################

# mig aws 
mig_aws_bucket: ""
mig_aws_region: "{{ lookup('env', 'AWS_REGION') }}"
mig_aws_access_key_id: "{{ lookup('env', 'AWS_ACCESS_KEY_ID') }}"
mig_aws_secret_access_key: "{{ lookup('env', 'AWS_SECRET_ACCESS_KEY') }}"

# mig storage 
mig_storage_name: migration-sample
mig_storage_creds_name: migstorage-creds
mig_backup_storage_provider: aws
mig_volume_snapshot_provider: aws

# mig plan
mig_plan_name: migplan-sample
mig_migration_namespaces: []

# mig migration 
mig_migration_name: migmigration-sample
mig_quiesce_pods: false

# mig clusters
mig_cluster_remote_name: migcluster-remote
mig_cluster_local_name: migcluster-local
mig_cluster_remote_address: ""

# mig cluster remote
cluster_remote_name: remote-cluster

# mig sa token
mig_sa_token_remote_name: sa-token-remote

############################# Workload ############################################################################

destroy: "{{ False if ACTION=='create' else True }}"
title: "{{ 'Creating' if not destroy else 'Removing' }}"
state: "{{ 'present' if not destroy else 'absent' }}"     # state of k8s resources
